# Docker Command Cheatsheet

| **Command** | **Arguments** | **Purpose** | **When to use** | **Additional tips** |
|-------------|----------------|-------------|-----------------|---------------------|
| `docker pull` | `{image:tag}`<br>`image`: Image name<br>`tag`: Version tag (optional, defaults to `latest`) | Downloads a Docker image from a registry | Use to get the latest or specific versions of images | Consider specifying `tag` to ensure consistency. E.g., `docker pull python:3.9` for ML dependencies. |
| `docker build` | `-t {name}`: Tag image<br>`-f {Dockerfile}`: Specify a Dockerfile<br>`.`: Context | Builds a Docker image from a Dockerfile | Use when creating custom ML environments with specific dependencies | Use `--no-cache` to avoid caching during build, especially when dependencies change. |
| `docker run` | `-d`: Run in detached mode<br>`-p {host:container}`: Publish ports<br>`--name {container}`: Name the container<br>`-v {host:container}`: Mount volumes | Runs a container from an image | Use to start your ML models, experiments, or dev environments | Combine `-v` to mount datasets from host and `-p` to expose Jupyter or TensorBoard (e.g., `-p 8888:8888`). |
| `docker ps` | `-a`: Show all containers (running and stopped) | Lists running containers | Use to monitor active or previously run containers | Useful to check container status after running or debugging failures. |
| `docker exec` | `-it {container}`: Interactive terminal<br>`{command}`: Command to execute | Executes a command inside a running container | Use for debugging, running scripts, or interacting with the container's environment | Great for inspecting container environments (e.g., `docker exec -it my-container bash`). |
| `docker stop` | `{container}`: Container name or ID | Stops a running container gracefully | Use when you need to stop a long-running process, ML job, or app | Use `docker kill` for forceful termination if needed. |
| `docker start` | `{container}`: Container name or ID | Restarts a stopped container | Use to resume work after a container was stopped | Combine with `docker exec` to attach to running containers. |
| `docker logs` | `-f`: Follow live logs<br>`{container}`: Container name or ID | View logs from a running or stopped container | Use to debug errors or check progress in ML experiments | Combine with `-f` to monitor logs in real-time (e.g., for monitoring training). |
| `docker images` | `-q`: Display only image IDs<br>`--filter {filter}`: Filter by name or tag | Lists all Docker images on the system | Use to check available base images or cleanup unused ones | Use `docker rmi {image}` to remove unused images and free disk space. |
| `docker rmi` | `{image}`: Image name or ID | Removes a Docker image | Use to delete unnecessary images, especially after build iterations | Add `-f` to force removal if the image is in use by stopped containers. |
| `docker rm` | `-f`: Force removal<br>`{container}`: Container name or ID | Removes stopped containers | Use to clean up after experiments or failed runs | Use `docker ps -a` to find stopped containers before running this. |
| `docker inspect` | `{container or image}`: Container or image name or ID | Shows detailed configuration of containers or images | Use to check configuration like network settings, volume mounts, and environment variables | Valuable for debugging container internals. Use with `jq` for JSON parsing (`docker inspect | jq`). |
| `docker commit` | `{container} {image:tag}`: Save container state as a new image | Creates a new image from a containerâ€™s current state | Use to save changes or the result of interactive container sessions | Ideal for creating reproducible ML environments after experimentation. |
| `docker volume create` | `{name}`: Volume name (optional) | Creates a new Docker volume for persistent storage | Use when dealing with datasets, ML models, or intermediate files that need to persist | Use `docker volume ls` to list all volumes and `docker volume rm` to delete unused ones. |
| `docker volume ls` | | Lists all volumes on the system | Use to check what volumes are available for reuse or cleanup | Remove unused volumes with `docker volume rm`. |
| `docker network ls` | | Lists all Docker networks | Use to inspect available networks when troubleshooting container communication | Default networks include `bridge`, `host`, and `none`. Custom networks can be created with `docker network create`. |
| `docker network create` | `{name}`: Network name<br>`--driver {bridge/host}`: Specify network type | Creates a custom Docker network | Use when connecting containers together, like ML inference services or distributed training | Combine with `--subnet` for specific IP ranges or `docker-compose` for multi-container setups. |
| `docker-compose up` | `-d`: Detached mode<br>`--build`: Build before starting | Starts multiple containers as defined in a `docker-compose.yml` file | Use to orchestrate multi-container ML setups, e.g., databases, APIs, Jupyter | Ensure your YAML defines services for databases or queue systems for ML pipelines. |
| `docker-compose down` | | Stops and removes containers, networks, and volumes created by `up` | Use to tear down an ML pipeline or environment after testing | Use `docker-compose down -v` to also remove named volumes created by `docker-compose up`. |
